extends ../template/layout

block content
  .container
    if (!user)
      table
        tr
          td
            //'Comic Sans MS', cursive, sans-serif
            //Verdana, Geneva, sans-serif
            div(style="border:solid 2px #f45342; font-family: 'Comic Sans MS', cursive, sans-serif; background:#ffffff;color:#4286f4; width:400px;height:400px;padding:5px;")
              h1(style="font-size: 40px; font-weight: 800;") ActivePNS
              div(style="font-size: 24px; font-weight: 800;")
              | ActivePNS is a programmable managed DNS service. You can write Javascript code to define your own routing
              | scheme for your A record hosted by ActivePNS. Try out by registering your account first.
          td
            img(src="images/activepns.png", style="width:100%;height:100%;padding:5px;")
    if (user)
      p.h4 Hello #{user.username}
      //h4 The subdomain "#{user.username}.activegns.org" has been assigned to you, you can create your A record and define your own policy on it
      h6
      hr
      div(class="inline-div")
        p.h4(align="left") A record
        br
        textarea(type="text", id="record", style="height:200px;width:200px;font-size:10pt;").
          #{record}
        p.h5 IPv4 address. Enter multiple addresses on separate lines.
        p.h5 Example:
        ul.h6 192.0.2.23
        ul.h6 198.51.100.234
        button.btn.btn-default(type='submit', onclick="onRecordClick()") Submit Record

      div(class="inline-div")
        p.h4 Active Code (Javascript)
        br
        textarea(type="text", id="code", style="height:200px;width:300px;font-size:10pt;").
          #{code}
        p.h5 Examples:
        select(id="codeExamples", class="optgroup", onchange="onChange();") Examples
          option.h5(value="noop" selected) No-op
          option.h5(value="random") Random
          option.h5(value="latency") Latency-based
        br
        br
        button.btn.btn-default(type='submit' onclick="onCodeClick()") Submit Code
      script.
        var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
          lineNumbers: true,
          matchBrackets: true,
          continueComments: "Enter",
          extraKeys: {"Ctrl-Q": "toggleComment"}
        });